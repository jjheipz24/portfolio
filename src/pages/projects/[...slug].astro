---
import '@fontsource-variable/inter';
import Layout from '../../layouts/Layout.astro'
import projects from '../../project-data'
import ImageCarousel from '../../components/ImageCarousel.astro'

export function getStaticPaths() {
    // return [
    //     { params: { project: 'sprout' } },
    //     { params: { project: 'g-rex' } },
    //     { params: { project: 'hate-crimes' } },
    // ]
    return projects.map(({ title, body, slug, tech, images, link }) => {
        return {
            params: { slug },
            props: { title, body, slug, tech, images, link }
        }
    })
}

const { title, body, tech, images, link } = Astro.props
const uniqueId = title.toLowerCase().replace(/\s+/g, '-') + '-carousel'
---
<Layout title={title}>
    <div
    slot='hero-content'
    class='hero-content items-center justify-center lg:flex-row w-full h-1/2 px-4 sm:px-8'
  >
      <h1
        class="font-['Inter_Variable'] font-medium text-white text-4xl sm:text-6xl lg:text-8xl flex-none w-auto text-center"
      >
        {title}
      </h1>
  </div>
  <main class='bg-[#1E293B] mt-8 px-4 sm:px-8'>
    <section class="flex flex-wrap justify-center gap-4 sm:gap-6 py-8">
    {tech && tech.map((item: string) => (
       <span class="rounded-full border border-slate-300 bg-transparent text-slate-300 font-normal text-sm sm:text-base lg:text-xl py-1 px-3">{item}</span>
    ))}
    </section>
    
    <!-- Two-column content section -->
    <section class="flex flex-col lg:flex-row items-start justify-center gap-8 py-10 px-4 lg:px-8 max-w-[95%] lg:max-w-[90%] mx-auto">
      <!-- Left column: Text and button -->
      <div class="w-full lg:w-2/5">
        <p class="text-[#E5E7EB] font-['Inter_Variable'] text-base sm:text-lg mb-6">
          {body}
        </p>
        <p class="text-[#E5E7EB] font-['Inter_Variable'] text-base sm:text-lg mb-8">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
        </p>
        <p class="text-[#E5E7EB] font-['Inter_Variable'] text-base sm:text-lg mb-8">
          Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
        </p>
        
        {link ? (
          <a
            href={link}
            target="_blank"
            rel="noopener noreferrer"
            class="inline-block py-2 px-6 rounded-full text-white bg-[#BB96EA] hover:bg-[#A46DEA] hover:text-white hover:drop-shadow-md duration-300 text-base font-medium"
          >
            Explore
          </a>
        ) : (
          <div class="inline-flex items-center gap-2 py-2 px-6 rounded-full border border-slate-400 text-slate-400 text-base font-medium">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            School project - No longer viewable
          </div>
        )}
      </div>
      
      <!-- Right column: Image carousel or placeholder -->
      <div class="w-full lg:w-3/5 flex justify-center">
        {images && images.length > 0 ? (
          <ImageCarousel images={images} id={uniqueId} />
        ) : (
          <div class="w-full h-[350px] lg:h-[600px] rounded-lg bg-gradient-to-br from-[#14B8A6] to-[#0D9488] flex items-center justify-center shadow-lg">
            <span class="text-white font-['Inter_Variable'] text-lg opacity-30">Image Placeholder</span>
          </div>
        )}
      </div>
    </section>
  </main>
</Layout>
